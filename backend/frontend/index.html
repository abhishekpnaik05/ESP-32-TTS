<!DOCTYPE html>
<html>
  <head>
    <title>ESP32 WebSocket Speech Control</title>
  </head>
  <body style="font-family: sans-serif;">
    <h2>ESP32 Offline Speech Control</h2>
    <input id="msg" placeholder="Type text to speak" style="width:200px" />
    <button onclick="send()">Send</button>
    <pre id="log"></pre>

    <script>
      const ws = new WebSocket("ws://" + location.host);
      const log = document.getElementById("log");

      ws.onopen = () => log.textContent += "âœ… Connected\n";
      ws.onclose = () => log.textContent += "âŒ Disconnected\n";
      ws.onerror = (e) => log.textContent += "âš  Error: " + e + "\n";
      ws.onmessage = (e) => log.textContent += "ðŸ“© " + e.data + "\n";

      function send() {
        const txt = document.getElementById("msg").value.trim();
        if (txt) {
          ws.send(txt);
          log.textContent += "âž¡ Sent: " + txt + "\n";
          document.getElementById("msg").value = "";
        }
      }
    </script>
  </body>
</html>